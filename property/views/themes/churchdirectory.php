<!DOCTYPE html>
<html lang="en-US">

  <body class="size-1140">
    
    <!-- MAIN -->
    <main role="main">
      <!-- Content -->
      <article>
        <header class="section-top-padding background-dark">
          <div class="line">        
            <h1 class="text-white margin-top-bottom-20 text-size-30 text-line-height-1">Church Directory</h1>
          </div>  
        </header>
        
        <div class="section-small-padding background-white"> 
          <div class="line">

            <div id="jsGrid"></div>
            <div id="churchDialog" title="View">
                <p></p>
                <a target="_blank"><img id="imagePreview" /></a>
            </div>

            <div class="margin-left-right-80" style="display:none;">
              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/Region I"><p>Ilocos Region (Region I)</p></a>
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/RegionI.jpg" alt="" title="Ilocos Region (Region I)" />
                </div>  
              </div>
              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/Region II"><p>Cagayan Valley (Region II)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/RegionII.jpg" alt="" title="Cagayan Valley (Region II)" />
                </div>  
              </div>
              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/Region III"><p>Central Luzon (Region III)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/RegionIII.jpg" alt="" title="Central Luzon (Region III)" />
                </div>  
              </div>
              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/RegionIV-A"><p>CALABARZON (Region IV-A)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/RegionIV-A.jpg" alt="" title="CALABARZON (Region IV-A)" />
                </div>  
              </div>
              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/RegionIV-B"><p>MIMAROPA (Region IV-B)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/RegionIV-B.jpg" alt="" title="MIMAROPA (Region IV-B)" />
                </div>  
              </div>
              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/RegionV"><p>Bicol Region (Region V)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/RegionV.jpg" alt="" title="Bicol Region (Region V)" />
                </div>  
              </div>
              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/RegionVI"><p>Western Visayas (Region VI)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/RegionVI.jpg" alt="" title="Western Visayas (Region VI)" />
                </div>  
              </div>
              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/RegionVII"><p>Central Visayas (Region VII)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/RegionVII.jpg" alt="" title="Central Visayas (Region VII)" />
                </div>  
              </div>
              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/RegionVIII"><p>Eastern Visayas (Region VIII)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/RegionVIII.jpg" alt="" title="Eastern Visayas (Region VIII)" />
                </div>  
              </div>
              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/RegionIX"><p>Zamboanga Peninsula (Region IX)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/RegionIX.jpg" alt="" title="Zamboanga Peninsula (Region IX)" />
                </div>  
              </div>
              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/RegionX"><p>Northern Mindanao (Region X)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/RegionX.jpg" alt="" title="Northern Mindanao (Region X)" />
                </div>  
              </div>
              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/RegionXI"><p>Davao Region (Region XI)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/RegionXI.jpg" alt="" title="Davao Region (Region XI)" />
                </div>  
              </div>

              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/RegionXII"><p>SOCCSKSARGEN (Region XII)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/RegionXII.jpg" alt="" title="SOCCSKSARGEN (Region XII)" />
                </div>  
              </div>

              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/RegionXIII"><p>Caraga (Region XIII)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/RegionXIII.jpg" alt="" title="Caraga (Region XIII)" />
                </div>  
              </div>       

              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/ARMM"><p>Autonomous Region in Muslim Mindanao (ARMM)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/ARMM.jpg" alt="" title="Autonomous Region in Muslim Mindanao (ARMM)" />
                </div>  
              </div>   

              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/CAR"><p>Cordillera Administrative Region (CAR)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/CAR.jpg" alt="" title="Cordillera Administrative Region (CAR)" />
                </div>  
              </div>   

              <div class="s-12 m-6 l-4">
                <div class="image-with-hover-overlay image-hover-zoom margin-bottom">
                  <div class="image-hover-overlay background-primary"> 
                    <div class="image-hover-overlay-content text-center padding-2x">
                      <a href="<?php echo base_url(); ?>churchdirectory_sub/NCR"><p>National Capital Region (NCR) (Metro Manila)</p></a>  
                    </div> 
                  </div> 
                  <img src="<?php echo base_url();?>public/images/portfolio/NCR.jpg" alt="" title="National Capital Region (NCR) (Metro Manila)" />
                </div>  
              </div>   

            </div>  
          </div>
        </div> 
      </article>
    </main>

  </body>
</html>

<script>

    $("#churchDialog").dialog({
        modal: true,
        autoOpen: false,
        close: function() {
              $("#churchDialog p").html("");
              $("#imagePreview").attr("src","").parents().attr("href","#");
            }
    });

    $("#jsGrid").jsGrid({
        width: "100%",
        height: "auto",
 
        sorting: true,
        paging: true,
        filtering: true,
        autoload: true,

        controller: {
        data: <?php echo json_encode($churches); ?>,

          loadData: function (filter) {
            var d = $.Deferred();
            $.ajax({
              type: 'GET',
              url: "<?php echo site_url('church_control/getfilteredChurches') ?>",
              dataType: 'json'
            }).done(function (result) {
              for (var prop in filter) {
                if (filter[prop].length > 0) {
                  result = $.grep(result, function (item) {
                    var regexp = new RegExp(filter[prop], 'gi');
                    if (item[prop].match(regexp)) {
                      return item;
                    }
                  });
                  break;
                }
              }
              d.resolve(result);
            });
            return d.promise();
          }


        },
        
        rowClick: function(args) {
          $("#imagePreview").attr("src", "public/photos/church/"+args.item.picture).parents().attr("href", "public/photos/church/"+args.item.picture);
          $("#churchDialog p").html("Church Name : <b>"+args.item.church_Name+"</b><br /> Pastor : <b>"+args.item.Pastor+"</b> <br />Address : <b>"+args.item.address+" "+args.item.City+" "+args.item.Province+" "+args.item.Region+"</b>");
          // $("#churchDialog").dialog("open");
          window.open('<?php echo site_url('church_control/churchdirectory_sub/') ?>/'+args.item.church_Id, '_blank');
        },


        fields: [
            { name: "church_Name", type: "text", title: "Church", validate: "required" },
            // { name: "address", type: "text", title: "Address" },
            { name: "Pastor", type: "text" },
            { name: "Region", type: "text" },
            { name: "City", type: "text" },
            { name: "Province", type: "text" },
            { name: "address", type: "text", title: "Address" }
            // { name: "modified_Date", type: "text" },
            // { name: "created_Date", type: "text" },
            // { name: "CreatedBy", type: "text" },
            // { name: "ModifiedBy", type: "text" }
            // { name: "picture", type: "text", title: "Map", itemTemplate: function(val, item) {
            //     return $("<img>").attr("src", val).css({ height: 50, width: 50 })
            // },
            // insertTemplate: function() {
            //     var insertControl = this.insertControl = $("<input>").prop("type", "file");
            //     return insertControl;
            // },
            // insertValue: function() {
            //     return this.insertControl[0].files[0]; 
            // },
            // align: "center" }

            // { name: "Married", type: "checkbox", title: "Is Married", sorting: false },
            // { type: "control" }
        ]
    });

</script>